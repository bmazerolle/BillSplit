{"version":3,"file":"login.js","sourceRoot":"","sources":["../../src/scripts/login.ts"],"names":[],"mappings":";AAAA;;GAEG;AACH,SAAS,KAAK;IACV,CAAC,CAAC,YAAY,CAAC,CAAC,IAAI,CAAC,QAAQ,EAAE,aAAa,CAAC,CAAC;IAC9C,CAAC,CAAC,YAAY,CAAC,CAAC,IAAI,CAAC,QAAQ,EAAE,MAAM,CAAC,CAAC;IACvC,IAAM,IAAI,GAAG,IAAI,IAAI,EAAE,CAAC;IACxB,IAAM,UAAU,GAAG,IAAI,IAAI,CAAC,IAAI,CAAC,WAAW,EAAE,EAAE,IAAI,CAAC,QAAQ,EAAE,GAAG,CAAC,EAAE,IAAI,CAAC,OAAO,EAAE,EAAE,IAAI,CAAC,QAAQ,EAAE,EAChG,IAAI,CAAC,UAAU,EAAE,CAAC,CAAC;IACvB,QAAQ,CAAC,MAAM,GAAG,kBAAkB,CAAC,UAAU,GAAG,UAAU,CAAC,QAAQ,EAAE,GAAG,YAAY,GAAG,CAAC,CAAC,YAAY,CAAC,CAAC,GAAG,EAAE;UAC5G,gBAAgB,CAAC,CAAC;IACpB,aAAa;IACb,QAAQ,CAAC,cAAc,CAAC,WAAW,CAAC,CAAC,MAAM,EAAE,CAAC;AAClD,CAAC;AAED,QAAQ,CAAC,gBAAgB,CAAC,kBAAkB,EAAE;IAE1C,CAAC,CAAC,cAAc,CAAC,CAAC,EAAE,CAAC,OAAO,EAAE,UAAC,CAAC;QAC5B,aAAa;QACb,IAAI,CAAC,CAAC,gBAAgB,EAAE;YACpB,OAAO,CAAC,6DAA6D;SACxE;QACD,KAAK,EAAE,CAAC;IACZ,CAAC,CAAC,CAAC;AACP,CAAC,CAAC,CAAC","sourcesContent":["/**\n * Summary: Creates a cookie for user session\n */\nfunction login() {\n    $(\"#loginForm\").attr(\"action\", \"/login/auth\");\n    $(\"#loginForm\").attr(\"method\", \"POST\");\n    const date = new Date();\n    const expireDate = new Date(date.getFullYear(), date.getMonth() + 1, date.getDate(), date.getHours(),\n        date.getMinutes());\n    document.cookie = encodeURIComponent(\"expires=\" + expireDate.toString() + \";username=\" + $(\"#email-log\").val()\n    + \";SameSite=None\");\n    // @ts-ignore\n    document.getElementById(\"loginForm\").submit();\n}\n\ndocument.addEventListener(\"DOMContentLoaded\", () => {\n\n    $(\"#loginButton\").on(\"click\", (e) => {\n        // @ts-ignore\n        if (e.defaultPrevented) {\n            return; // Should do nothing if the default action has been cancelled\n        }\n        login();\n    });\n});\n"]}