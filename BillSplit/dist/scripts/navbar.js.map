{"version":3,"file":"navbar.js","sourceRoot":"","sources":["../../src/scripts/navbar.ts"],"names":[],"mappings":";AAAA;;;;GAIG;AACH,SAAS,iBAAiB;IACtB,CAAC,CAAC,IAAI,CAAC;QACH,IAAI,EAAE,CAAC,CAAC,SAAS,CAAC,CAAC,SAAS,EAAE;QAC9B,KAAK,EAAE,UAAC,GAAG,EAAE,WAAW,EAAE,WAAW;YACjC,KAAK,CAAC,GAAG,CAAC,MAAM,CAAC,CAAC;YAClB,KAAK,CAAC,WAAW,CAAC,CAAC;QACvB,CAAC;QACD,OAAO,EAAE,UAAC,MAAM;YACZ,IAAI,MAAM,CAAC,KAAK,GAAG,CAAC,EAAE;gBAClB,CAAC,CAAC,QAAQ,CAAC,CAAC,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,CAAC;gBAC/B,CAAC,CAAC,SAAS,CAAC,CAAC,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,CAAC;aACnC;QACL,CAAC;QACD,IAAI,EAAE,KAAK;QACX,GAAG,EAAE,0BAA0B;KAClC,CAAC,CAAC;AACP,CAAC;AAED;;GAEG;AACH,SAAS,WAAW;IAChB,IAAM,MAAM,GAAG,kBAAkB,CAAC,QAAQ,CAAC,MAAM,CAAC,CAAC;IACnD,IAAM,MAAM,GAAG,MAAM,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC;IACjC,IAAM,QAAQ,GAAQ,EAAE,CAAC;IACzB,IAAM,QAAQ,GAAG,CAAC,CAAC,WAAW,CAAC,CAAC,GAAG,EAAE,CAAC;IACtC,KAAoB,UAAM,EAAN,iBAAM,EAAN,oBAAM,EAAN,IAAM,EAAE;QAAvB,IAAM,KAAK,eAAA;QACZ,QAAQ,CAAC,KAAK,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,GAAG,KAAK,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC;KACvD;IACD,IAAI,IAAI,IAAI,CAAC,QAAQ,CAAC,OAAO,CAAC,GAAG,IAAI,IAAI,EAAE,IAAI,QAAQ,CAAC,QAAQ,KAAK,QAAQ,EAAE;QAC3E,QAAQ,CAAC,QAAQ,CAAC,IAAI,GAAG,QAAQ,CAAC;KACrC;AACL,CAAC;AAED,QAAQ,CAAC,gBAAgB,CAAC,kBAAkB,EAAE;IAC1C,WAAW,EAAE,CAAC;IACd,iBAAiB,EAAE,CAAC;AACxB,CAAC,CAAC,CAAC","sourcesContent":["/*\n* Summary: gets the count of notifications of a user and puts them in the profile badge\n* Parameters: None\n* Returns: none\n */\nfunction countNotification() {\n    $.ajax({\n        data: $(\"#userId\").serialize(),\n        error: (xhr, ajaxOptions, thrownError) => {\n            alert(xhr.status);\n            alert(thrownError);\n        },\n        success: (result) => {\n            if (result.count > 0) {\n                $(\"#notis\").html(result.count);\n                $(\"#notis2\").html(result.count);\n            }\n        },\n        type: \"GET\",\n        url: \"/user/notification/count\",\n    });\n}\n\n/**\n * Summary: Checks to see if a cookies is valid or expired, logs user out if the cookie isn't valid\n */\nfunction checkCookie() {\n    const cookie = decodeURIComponent(document.cookie);\n    const fields = cookie.split(\";\");\n    const cookieOb: any = {};\n    const userName = $(\"#userName\").val();\n    for (const field of fields) {\n        cookieOb[field.split(\"=\")[0]] = field.split(\"=\")[1];\n    }\n    if (new Date(cookieOb.expires) < new Date() || cookieOb.username !== userName) {\n        document.location.href = \"/login\";\n    }\n}\n\ndocument.addEventListener(\"DOMContentLoaded\", () => {\n    checkCookie();\n    countNotification();\n});\n"]}